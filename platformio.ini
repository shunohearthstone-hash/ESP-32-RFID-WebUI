; PlatformIO Project Configuration File
[env:nodemcu-32s]
platform = espressif32
board = nodemcu-32s
framework = arduino
monitor_speed = 115200
board_build.filesystem = littlefs

lib_deps =
    miguelbalboa/MFRC522
    olikraus/U8g2
    bblanchon/ArduinoJson @ ^7.4.2
    LittleFS
test_ignore = test_authsync

[env:test_authsync]
platform = espressif32
board = nodemcu-32s
framework = arduino
board_build.filesystem = littlefs

# Enable the test-only hook used by the overflow safety unit test
build_flags =
    -DAUTH_TEST_HOOK

# Re-use the same libraries as the main build (LittleFS is required by tests)
lib_deps =
    miguelbalboa/MFRC522
    olikraus/U8g2
    bblanchon/ArduinoJson @ ^7.4.2
    LittleFS
